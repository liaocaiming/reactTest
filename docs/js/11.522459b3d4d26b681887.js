(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1162:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return we})),n(128);var r,a=n(59),c=n(55),l=n.n(c),o=n(56),i=n.n(o),s=n(57),u=n.n(s),m=n(58),f=n.n(m),p=n(31),d=n.n(p),h=n(0),y=n.n(h),v=(n(717),n(719)),b=(n(718),n(720)),g=n(522),E=n(516),O=n(170),N=n(207);var j,w=Object(E.b)()(r=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).renderForm=function(){var t=[{name:"loss",label:"跟随系统",type:"radio",list:N.isOrNot,rules:[{required:!0,message:"请选择"}]},{name:"isDelayed",label:"延时止损",isShow:function(e){return"1"===e.loss},type:"radio",list:N.isOrNot,eleAttr:{style:{width:200}}},{name:"delayedTime",label:"延时时间",rules:[{required:!0,message:"请输入"},{pattern:N.pattern.positiveNum,message:"请输入正整数"}],isShow:function(e){return"1"===e.isDelayed},eleAttr:{placeholder:"请输入",style:{width:100}},afterDOM:y.a.createElement("span",{style:{marginLeft:10}},"min")}];return y.a.createElement(g.a,{formItems:t,labelCol:{span:3},submitButton:{text:"确定",type:"primary",style:{marginRight:20}},onFinish:e.onFinish})},e.getData=function(){e.props.actions.get(O.a.realtime,{},{showLoading:!1}).then((function(t){t&&e.setState({symbolList:t})}))},e.onFinish=function(e){console.log(e)},e}return i()(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return y.a.createElement("div",{style:{width:800}},y.a.createElement("h4",null,"止损"),this.renderForm())}}]),n}(y.a.PureComponent))||r,A=n(81),C=n.n(A),P=(n(745),n(741)),x=n(543),S=n.n(x),R=[{value:"batch",label:"分批挂单"},{value:"EMA",label:"EMA挂单"},{value:"MA",label:"MA挂单"}],_=n(1153),F=n(217);var k,M=200,D=function(e){return Object(F.a)(e).map((function(e){return{value:e,label:"".concat(e," 倍")}}))},L=[100,120,144,169,200],B=[1,2,3],T=Object(E.b)()(j=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).getFormData=function(e){var t=r.state.type;return e.map((function(e,n){var r="".concat(t,"_").concat(e);return"batch"===t&&(r="第".concat(n+1,"批")),{name:"".concat(t,"_").concat(e),label:r,eleAttr:{placeholder:"请输入",style:{width:150}},afterDOM:y.a.createElement("span",{className:"margin_left_10"},"usdt")}}))},r.onAdd=function(){var e=r.state,t=e.type,n=e.batchArr;if("batch"===t){var a=n[n.length-1]+1;return n.push(a),void r.setState({batchArr:n.slice()})}r.setState({isShow:!0})},r.renderForm=function(){var e,t=r.state,n=t.batchArr,c=t.EMAArr;e="batch"===t.type?r.getFormData(n):r.getFormData(c);var l=[{name:"multiple",label:"开单倍数",type:"select",list:D(50),initialValue:10,eleAttr:{style:{width:M}}},{name:"bondType",label:"保证金模式",type:"select",list:N.bondType,initialValue:1,eleAttr:{style:{width:M}}},{name:"orderType",label:"开单方式",type:"select",list:R,initialValue:"batch",eleAttr:{onChange:function(e){r.setState({type:e})},style:{width:M}}}].concat(S()(e),[{name:"add",render:function(){return y.a.createElement(a.a,{onClick:r.onAdd,style:{marginLeft:50}},y.a.createElement(_.a,null))}}]);return y.a.createElement(g.a,{formItems:l,labelCol:{span:3},submitButton:{text:"确定",type:"primary",style:{marginLeft:50}},onFinish:r.onFinish})},r.onModalFinish=function(e){var t=r.state.EMAArr;r.setState({EMAArr:t.concat(e.value),isShow:!1})},r.renderAddModal=function(){var e=r.state,t=e.isShow,n=e.type,a=[{name:"value",rules:[{required:!0,message:"请输入"},{pattern:N.pattern.positiveNum,message:"请输入数字"}],eleAttr:{placeholder:"请输入".concat(n),style:{width:200}}}];return y.a.createElement(P.a,{footer:null,visible:t,title:n,width:300,onCancel:r.toggleModal("isShow",!1)},y.a.createElement(g.a,{formItems:a,labelCol:{span:3},submitButton:{text:"确定",type:"primary",style:{marginLeft:50}},onFinish:r.onModalFinish}))},r.toggleModal=function(e,t){return function(){r.setState(C()({},e,t))}},r.getData=function(){r.props.actions.get(O.a.realtime,{},{showLoading:!1}).then((function(e){e&&r.setState({symbolList:e})}))},r.onFinish=function(e){console.log(e)},r.state={symbolList:[],batchArr:B,EMAArr:L,type:"batch",isShow:!1},r}return i()(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return y.a.createElement("div",{style:{width:800}},y.a.createElement("h4",null,"开单"),this.renderForm(),this.renderAddModal())}}]),n}(y.a.PureComponent))||j,z=(n(216),n(104)),I=n(301);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=[{name:"target1",label:"目标一"},{name:"target2",label:"目标二"},{name:"target3",label:"目标三"},{name:"target4",label:"目标四"}],K=Object(E.b)()(k=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getTargetFormData=function(e){return e.map((function(e){return J(J({},e),{},{eleAttr:{placeholder:"0~100, 总数不超过100",style:{width:200}},rules:[{pattern:N.pattern.positiveNum,message:"请输入正整数"}],afterDOM:y.a.createElement("span",{className:"margin_left_10"},"%")})}))},e.renderForm=function(){var t=[].concat(S()(e.getTargetFormData(V)),[{name:"upProfit",label:"移动止盈",type:"radio",list:N.isOrNot,afterDOM:y.a.createElement("span",{className:"margin_left_20"}," ",y.a.createElement(z.a,{placement:"topRight",title:"第一目标到后, 会把止损设置在开单价, 第二目标到了后, 会把止盈设置在第一目标, 以此类推..."},y.a.createElement(I.a,null))),rules:[{required:!0,message:"请选择"}]}]);return y.a.createElement(g.a,{formItems:t,labelCol:{span:3},submitButton:{text:"确定",type:"primary",style:{marginRight:20}},onFinish:e.onFinish})},e.onFinish=function(e){console.log(e)},e}return i()(n,[{key:"render",value:function(){return y.a.createElement("div",{style:{width:800}},y.a.createElement("h4",null,"止盈"),this.renderForm())}}]),n}(y.a.PureComponent))||k;var H=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(){return l()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){return y.a.createElement("div",null,y.a.createElement(v.a,{gutter:24},y.a.createElement(b.a,{span:8},y.a.createElement(T,null)),y.a.createElement(b.a,{span:8},y.a.createElement(K,null)),y.a.createElement(b.a,{span:8},y.a.createElement(w,null))))}}]),n}(y.a.PureComponent),W=(n(40),n(744),n(310),n(903),n(214),n(8)),X=n(2),G=n(1),Q=n(5),U=n(7),Y=n(4),Z=n.n(Y),$=n(44),ee=n(711),te=n(502),ne=n(219),re=n(889),ae=n(132),ce=n(50),le=n(164),oe=n(14),ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},se=Object(h.forwardRef)((function(e,t){var n=e.prefixCls,r=e.children,a=e.actions,c=e.extra,l=e.className,o=e.colStyle,i=ie(e,["prefixCls","children","actions","extra","className","colStyle"]),s=Object(h.useContext)(me),u=s.grid,m=s.itemLayout,f=(0,Object(h.useContext)($.b).getPrefixCls)("list",n),p=a&&a.length>0&&y.a.createElement("ul",{className:"".concat(f,"-item-action"),key:"actions"},a.map((function(e,t){return y.a.createElement("li",{key:"".concat(f,"-item-action-").concat(t)},e,t!==a.length-1&&y.a.createElement("em",{className:"".concat(f,"-item-action-split")}))}))),d=u?"div":"li",v=y.a.createElement(d,Object(X.a)({},i,u?{}:{ref:t},{className:Z()("".concat(f,"-item"),Object(G.a)({},"".concat(f,"-item-no-flex"),!("vertical"===m?c:!function(){var e;return h.Children.forEach(r,(function(t){"string"==typeof t&&(e=!0)})),e&&h.Children.count(r)>1}())),l)}),"vertical"===m&&c?[y.a.createElement("div",{className:"".concat(f,"-item-main"),key:"content"},r,p),y.a.createElement("div",{className:"".concat(f,"-item-extra"),key:"extra"},c)]:[r,p,Object(oe.a)(c,{key:"extra"})]);return u?y.a.createElement(le.a,{ref:t,flex:1,style:o},v):v}));se.Meta=function(e){var t=e.prefixCls,n=e.className,r=e.avatar,a=e.title,c=e.description,l=ie(e,["prefixCls","className","avatar","title","description"]),o=(0,Object(h.useContext)($.b).getPrefixCls)("list",t),i=Z()("".concat(o,"-item-meta"),n),s=y.a.createElement("div",{className:"".concat(o,"-item-meta-content")},a&&y.a.createElement("h4",{className:"".concat(o,"-item-meta-title")},a),c&&y.a.createElement("div",{className:"".concat(o,"-item-meta-description")},c));return y.a.createElement("div",Object(X.a)({},l,{className:i}),r&&y.a.createElement("div",{className:"".concat(o,"-item-meta-avatar")},r),(a||c)&&s)};var ue=se,me=h.createContext({});function fe(e){var t,n=e.pagination,r=void 0!==n&&n,a=e.prefixCls,c=e.bordered,l=void 0!==c&&c,o=e.split,i=void 0===o||o,s=e.className,u=e.children,m=e.itemLayout,f=e.loadMore,p=e.grid,d=e.dataSource,y=void 0===d?[]:d,v=e.size,b=e.header,g=e.footer,E=e.loading,O=void 0!==E&&E,N=e.rowKey,j=e.renderItem,w=e.locale,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),C=r&&"object"===Object(U.a)(r)?r:{},P=h.useState(C.defaultCurrent||1),x=Object(Q.a)(P,2),S=x[0],R=x[1],_=h.useState(C.defaultPageSize||10),F=Object(Q.a)(_,2),k=F[0],M=F[1],D=h.useContext($.b),L=D.getPrefixCls,B=D.renderEmpty,T=D.direction,z=function(e){return function(t,n){R(t),M(n),r&&r[e]&&r[e](t,n)}},I=z("onChange"),q=z("onShowSizeChange"),J=L("list",a),V=O;"boolean"==typeof V&&(V={spinning:V});var K=V&&V.spinning,H="";switch(v){case"large":H="lg";break;case"small":H="sm"}var Y=Z()(J,(t={},Object(G.a)(t,"".concat(J,"-vertical"),"vertical"===m),Object(G.a)(t,"".concat(J,"-").concat(H),H),Object(G.a)(t,"".concat(J,"-split"),i),Object(G.a)(t,"".concat(J,"-bordered"),l),Object(G.a)(t,"".concat(J,"-loading"),K),Object(G.a)(t,"".concat(J,"-grid"),!!p),Object(G.a)(t,"".concat(J,"-something-after-last-item"),!!(f||r||g)),Object(G.a)(t,"".concat(J,"-rtl"),"rtl"===T),t),s),le=Object(X.a)(Object(X.a)(Object(X.a)({},{current:1,total:0}),{total:y.length,current:S,pageSize:k}),r||{}),oe=Math.ceil(le.total/le.pageSize);le.current>oe&&(le.current=oe);var ie=r?h.createElement("div",{className:"".concat(J,"-pagination")},h.createElement(re.a,Object(X.a)({},le,{onChange:I,onShowSizeChange:q}))):null,se=Object(W.a)(y);r&&y.length>(le.current-1)*le.pageSize&&(se=Object(W.a)(y).splice((le.current-1)*le.pageSize,le.pageSize));var ue=Object.keys(p||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),fe=Object(ne.a)(ue),pe=h.useMemo((function(){for(var e=0;e<ce.b.length;e+=1){var t=ce.b[e];if(fe[t])return t}}),[fe]),de=h.useMemo((function(){if(p){var e=pe&&p[pe]?p[pe]:p.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null==p?void 0:p.column,pe]),he=K&&h.createElement("div",{style:{minHeight:53}});if(se.length>0){var ye=se.map((function(e,t){return function(e,t){return j?((n="function"==typeof N?N(e):N?e[N]:e.key)||(n="list-item-".concat(t)),h.createElement(h.Fragment,{key:n},j(e,t))):null;var n}(e,t)}));he=p?h.createElement(te.a,{gutter:p.gutter},h.Children.map(ye,(function(e){return h.createElement("div",{key:null==e?void 0:e.key,style:de},e)}))):h.createElement("ul",{className:"".concat(J,"-items")},ye)}else u||K||(he=function(e,t){return h.createElement("div",{className:"".concat(e,"-empty-text")},w&&w.emptyText||t("List"))}(J,B||ee.a));var ve=le.position||"bottom",be=h.useMemo((function(){return{grid:p,itemLayout:m}}),[JSON.stringify(p),m]);return h.createElement(me.Provider,{value:be},h.createElement("div",Object(X.a)({className:Y},A),("top"===ve||"both"===ve)&&ie,b&&h.createElement("div",{className:"".concat(J,"-header")},b),h.createElement(ae.a,Object(X.a)({},V),he,u),g&&h.createElement("div",{className:"".concat(J,"-footer")},g),f||("bottom"===ve||"both"===ve)&&ie))}me.Consumer,fe.Item=ue;var pe=fe,de=n(94),he=n.n(de),ye=(n(794),n(790)),ve=[{direction:1,directionName:"买",coin:"sushi",isAll:1,isAllName:"全仓",multiple:50,number:400,bond:20,profitAndLossPrice:20,profitAndLossperc:"10%",openPrice:2.3,signPrice:2.1,forcePrice:1.5},{direction:1,directionName:"买",coin:"sushi",isAll:1,isAllName:"全仓",multiple:50,number:400,bond:20,profitAndLossPrice:20,profitAndLossperc:"10%",openPrice:2.3,signPrice:2.1,forcePrice:1.5}],be=n(112),ge={1:"buy",2:"sale"},Ee=Object(h.memo)((function(e){var t=e.direction,n=e.cancelFn;return y.a.createElement("div",{className:"current-item"},y.a.createElement("div",null,y.a.createElement("span",{className:Object(be.reactClassNameJoin)(["direction-name","margin_right_5",ge[t]])},e.directionName),y.a.createElement("span",null,e.coin)),y.a.createElement("div",null,y.a.createElement("span",{className:"margin_right_5"},e.isAllName),y.a.createElement("span",null,e.multiple,"X")),y.a.createElement("div",null,y.a.createElement("span",{className:"margin_right_20"},y.a.createElement("span",{className:"margin_right_5"},"持仓数（",e.coin,"）:")," ",y.a.createElement("span",null,e.number)),y.a.createElement("span",{className:"margin_right_20"},y.a.createElement("span",{className:"margin_right_5"},"未实现盈亏:")," ",y.a.createElement("span",null,e.profitAndLossPrice,"(",e.profitAndLossperc,")")),y.a.createElement("span",null,y.a.createElement("span",{className:"margin_right_5"},"保证金:")," ",y.a.createElement("span",null,e.bond))),y.a.createElement("div",null,y.a.createElement("span",{className:"margin_right_20"},y.a.createElement("span",{className:"margin_right_5"},"开仓价格:")," ",y.a.createElement("span",null,e.openPrice)),y.a.createElement("span",{className:"margin_right_20"},y.a.createElement("span",{className:"margin_right_5"},"标记价格:")," ",y.a.createElement("span",null,e.signPrice)),y.a.createElement("span",null,y.a.createElement("span",{className:"margin_right_5"},"强平价格:")," ",y.a.createElement("span",null,e.forcePrice))),y.a.createElement("div",null,y.a.createElement(a.a,{className:"cancel-btn",size:"small",danger:!0,type:"dashed",onClick:n(e)},"取消跟单")))}),(function(e,t){return e!==t}));var Oe,Ne=ye.a.TabPane,je=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).cancelFn=function(t){return function(){var n=e.props.actions;console.log(t),n.post("cancel",t).then((function(e){}))}},e}return i()(n,[{key:"renderCurrent",value:function(){var e=this;return y.a.createElement(pe,{itemLayout:"horizontal",dataSource:ve,renderItem:function(t){return y.a.createElement(Ee,he()({},t,{cancelFn:e.cancelFn}))}})}},{key:"renderTrust",value:function(){return y.a.createElement("span",null,"renderTrust")}},{key:"renderFinished",value:function(){return y.a.createElement("span",null,"renderFinished")}},{key:"render",value:function(){return y.a.createElement("div",null,y.a.createElement(ye.a,null,y.a.createElement(Ne,{key:"current",tab:"当前持仓"},this.renderCurrent()),y.a.createElement(Ne,{key:"trust",tab:"当前委托"},this.renderTrust()),y.a.createElement(Ne,{key:"finished",tab:"已完成"},this.renderFinished())))}}]),n}(y.a.PureComponent);var we=Object(E.b)()(Oe=function(e){u()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}(n);function n(){var e;l()(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).onCancelAllOrder=function(){e.props.actions.post("order/cancelAllFollow").then((function(e){console.log(e)}))},e.onOpenAllOrder=function(){e.props.actions.post("order/openAllFollow").then((function(e){console.log(e)}))},e.renderTabBarExtraContent=function(){return y.a.createElement("div",{className:"btn-content boundary"},y.a.createElement(a.a,{className:"margin_left_10",style:{marginRight:20},onClick:e.onOpenAllOrder},"开启跟单"),y.a.createElement(a.a,{danger:!0,onClick:e.onCancelAllOrder},"取消跟单"))},e}return i()(n,[{key:"render",value:function(){return y.a.createElement("div",{className:"follow-order-set"},this.renderTabBarExtraContent(),y.a.createElement("div",{className:"order-set boundary"},y.a.createElement(H,null)),y.a.createElement("div",null,y.a.createElement(je,this.props)))}}]),n}(y.a.PureComponent))||Oe}}]);